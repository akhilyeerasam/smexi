# All the indices required by the project will be generated via this file. It will ensure quick, easy, and consistent setup of project related indices

elasticsearchUrl="http://localhost:9200"
rootDirectory="/Users/akhilyeerasam/Projects/Thesis/2023-akhil-yeerasam-master/index_tools"

#----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# This command will create the indexes for the KL statistical shape region data
# Indices: [shape_data_kaiserslautern_statistical_regions, shape_data_kaiserslautern_suburbs, shape_data_kaiserslautern_electorate_regions, shape_data_kaiserslautern_primary_school_regions]
${rootDirectory}/bin/hkMiniBuildShapeKaiserslauternIndex.sh ${elasticsearchUrl}
#----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# Command to import the data from the 'Stat_Bezirk_SozioDemo_mv2022' file
perl -CA ${rootDirectory}/bin/fileDataToElasticsearchGeneric.pl --fieldSpec "STAT_BEZ|STAT_BEZ" --fieldSpec "SB_MBA_A_Haushalt|SB_MBA_A_Haushalt" --fieldSpec "SB_MBA_A_Gewerbe|SB_MBA_A_Gewerbe" --fieldSpec "SB_MGM_P_KET|SB_MGM_P_KET" --fieldSpec "SB_MGM_P_LIB|SB_MGM_P_LIB" --fieldSpec "SB_MGM_P_PER|SB_MGM_P_PER" --fieldSpec "SB_MGM_P_EPE|SB_MGM_P_EPE" --fieldSpec "SB_MGM_P_BUM|SB_MGM_P_BUM" --fieldSpec "SB_MGM_P_PRA|SB_MGM_P_PRA" --fieldSpec "SB_MGM_P_SOK|SB_MGM_P_SOK" --fieldSpec "SB_MGM_P_TRA|SB_MGM_P_TRA" --fieldSpec "SB_MGM_P_PRE|SB_MGM_P_PRE" --fieldSpec "SB_MGM_P_HED|SB_MGM_P_HED" --fieldSpec "SB_MSO_P_Singles|SB_MSO_P_Singles" --fieldSpec "SB_MSO_P_Paare|SB_MSO_P_Paare" --fieldSpec "SB_MSO_P_Familien|SB_MSO_P_Familien" --fieldSpec "SB_MSO_K_Alter_1|SB_MSO_K_Alter_1" --fieldSpec "SB_MSO_K_Alter_2|SB_MSO_K_Alter_2" --fieldSpec "SB_MSO_K_Alter_3|SB_MSO_K_Alter_3" --fieldSpec "SB_MSO_K_Alter_4|SB_MSO_K_Alter_4" --fieldSpec "SB_MSO_K_Alter_5|SB_MSO_K_Alter_5" --fieldSpec "SB_MSO_K_Alter_6|SB_MSO_K_Alter_6" --fieldSpec "SB_MSO_K_Alter_7|SB_MSO_K_Alter_7" --fieldSpec "SB_MSO_K_Alter_8|SB_MSO_K_Alter_8" --fieldSpec "SB_MSO_K_Alter30_0|SB_MSO_K_Alter30_0" --fieldSpec "SB_MSO_K_Alter30_1|SB_MSO_K_Alter30_1" --fieldSpec "SB_MSO_K_Alter30_2|SB_MSO_K_Alter30_2" --fieldSpec "SB_MSO_K_Alter30_3|SB_MSO_K_Alter30_3" --fieldSpec "SB_MSO_K_Alter30_4|SB_MSO_K_Alter30_4" --fieldSpec "SB_MSO_K_Alter30_5|SB_MSO_K_Alter30_5" --fieldSpec "SB_MSO_K_Alter30_6|SB_MSO_K_Alter30_6" --fieldSpec "SB_MSO_K_Alter30_7|SB_MSO_K_Alter30_7" --fieldSpec "SB_MSO_K_Alter30_8|SB_MSO_K_Alter30_8" --fieldSpec "SB_MSO_K_Alter30_9|SB_MSO_K_Alter30_9" --fieldSpec "SB_MSO_K_Alter60_0|SB_MSO_K_Alter60_0" --fieldSpec "SB_MSO_K_Alter60_1|SB_MSO_K_Alter60_1" --fieldSpec "SB_MSO_K_Alter60_2|SB_MSO_K_Alter60_2" --fieldSpec "SB_MSO_K_Alter60_3|SB_MSO_K_Alter60_3" --fieldSpec "SB_MSO_K_Alter60_4|SB_MSO_K_Alter60_4" --fieldSpec "SB_MSO_K_Alter60_5|SB_MSO_K_Alter60_5" --fieldSpec "SB_MSO_K_Alter60_6|SB_MSO_K_Alter60_6" --fieldSpec "SB_MSO_K_Alter60_7|SB_MSO_K_Alter60_7" --fieldSpec "SB_MSO_K_Alter60_8|SB_MSO_K_Alter60_8" --fieldSpec "SB_MSO_K_Alter60_9|SB_MSO_K_Alter60_9" --fieldSpec "SB_MSO_K_Ausland_1|SB_MSO_K_Ausland_1" --fieldSpec "SB_MSO_K_Ausland_2|SB_MSO_K_Ausland_2" --fieldSpec "SB_MSO_K_Ausland_3|SB_MSO_K_Ausland_3" --fieldSpec "SB_MSO_K_Ausland_4|SB_MSO_K_Ausland_4" --fieldSpec "SB_MSO_K_Ausland_5|SB_MSO_K_Ausland_5" --fieldSpec "SB_MSO_K_Ausland_6|SB_MSO_K_Ausland_6" --fieldSpec "SB_MSO_K_Ausland_7|SB_MSO_K_Ausland_7" --fieldSpec "SB_MSO_K_Ausland_8|SB_MSO_K_Ausland_8" --fieldSpec "SB_MSO_K_Familie_1|SB_MSO_K_Familie_1" --fieldSpec "SB_MSO_K_Familie_2|SB_MSO_K_Familie_2" --fieldSpec "SB_MSO_K_Familie_3|SB_MSO_K_Familie_3" --fieldSpec "SB_MSO_K_Familie_4|SB_MSO_K_Familie_4" --fieldSpec "SB_MSO_K_Familie_5|SB_MSO_K_Familie_5" --fieldSpec "SB_MSO_K_Familie_6|SB_MSO_K_Familie_6" --fieldSpec "SB_MSO_K_Familie_7|SB_MSO_K_Familie_7" --fieldSpec "SB_MSO_K_Familie_8|SB_MSO_K_Familie_8" --fieldSpec "SB_MSO_K_Familie_9|SB_MSO_K_Familie_9" --fieldSpec "SB_MSO_K_Kinder_1|SB_MSO_K_Kinder_1" --fieldSpec "SB_MSO_K_Kinder_2|SB_MSO_K_Kinder_2" --fieldSpec "SB_MSO_K_Kinder_3|SB_MSO_K_Kinder_3" --fieldSpec "SB_MSO_K_Kinder_4|SB_MSO_K_Kinder_4" --fieldSpec "SB_MSO_K_Kinder_5|SB_MSO_K_Kinder_5" --fieldSpec "SB_MSO_K_Kinder_6|SB_MSO_K_Kinder_6" --fieldSpec "SB_MSO_K_Kinder_7|SB_MSO_K_Kinder_7" --fieldSpec "SB_MSO_K_Kinder_8|SB_MSO_K_Kinder_8" --fieldSpec "SB_MSO_K_Kinder_9|SB_MSO_K_Kinder_9" --fieldSpec "SB_ALQ_P_Quote|SB_ALQ_P_Quote" --fieldSpec "SB_SBI_P_Hauptsch|SB_SBI_P_Hauptsch" --fieldSpec "SB_SBI_P_Realsch|SB_SBI_P_Realsch" --fieldSpec "SB_SBI_P_Fachhoch|SB_SBI_P_Fachhoch" --fieldSpec "SB_SBI_P_Abitur|SB_SBI_P_Abitur" --fieldSpec "SB_SBI_P_koaAbsch|SB_SBI_P_koaAbsch" --fieldSpec "SB_EIN_A_Einkommen_bis1100|SB_EIN_A_Einkommen_bis1100" --fieldSpec "SB_EIN_A_Einkommen_1100bis1500|SB_EIN_A_Einkommen_1100bis1500" --fieldSpec "SB_EIN_A_Einkommen_1500bis2000|SB_EIN_A_Einkommen_1500bis2000" --fieldSpec "SB_EIN_A_Einkommen_2000bis2600|SB_EIN_A_Einkommen_2000bis2600" --fieldSpec "SB_EIN_A_Einkommen_2600bis4000|SB_EIN_A_Einkommen_2600bis4000" --fieldSpec "SB_EIN_A_Einkommen_4000bis7500|SB_EIN_A_Einkommen_4000bis7500" --fieldSpec "SB_EIN_A_Einkommen_7500undgr|SB_EIN_A_Einkommen_7500undgr" --fieldSpec "SB_KKR_W_Summe|SB_KKR_W_Summe" --fieldSpec "SB_KKR_W_proHH|SB_KKR_W_proHH" --fieldSpec "SB_KKR_W_proEinw|SB_KKR_W_proEinw" --inputDataType json --blockSize 200000 --elasticsearchUrl ${elasticsearchUrl} --indexName stat_bezirk_soziodemo_mv2022 --inputDataEncoding utf8 ${rootDirectory}/data/Stat_Bezirk_SozioDemo_mv2022.json
#----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# Commands to create the index for 'kaiserslautern_kfz', the index requires the creation of data from other indices for processing before its creation
${rootDirectory}/bin/recreateIndexGeneric.sh -m ${rootDirectory}/data/elasticsearch_kaiserslautern_addresses_to_shapes_and_location.json -i kaiserslautern_addresses_to_shapes_and_location ${elasticsearchUrl}

perl -CA ${rootDirectory}/bin/fileDataToElasticsearchGeneric.pl --inputDataType csv --separatorCharacter ";" --blockSize 10000 --fieldSpec "CL_STR_KEY|street_id" --fieldSpec "Strasse|street_name" --fieldSpec "HNR|house_number" --fieldSpec "Zusatz|house_number_addition" --fieldSpec "CL-Stat_Bez|id_statistical_region" --staticField "import_date|"`date "+%Y-%m-%d"` --pointSpec "lat|lon|geolocation" --mapToEmpty "Zusatz|NULL" --blockSize 100000 --elasticsearchUrl ${elasticsearchUrl} --indexName kaiserslautern_addresses_to_shapes_and_location --command '$elasticsearchStructure->{id_suburb} = substr( $elasticsearchStructure->{id_statistical_region}, 0, 2 );' ${rootDirectory}/data/ST_STR_HNR_STATBEZ_epsg4326.csv

perl -CA ${rootDirectory}/bin/postprocessKfzData.pl --inputDataType csv --separatorCharacter ";" --blockSize 100000 ${rootDirectory}/data/kfzDataAggregated.csv --elasticsearchUrlStreetInfo ${elasticsearchUrl} --indexNameStreetInfo kaiserslautern_addresses_to_shapes_and_location --elasticsearchUrlWrite ${elasticsearchUrl} --indexNameWrite kaiserslautern_kfz
#----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# Command to creare OSM index data
${rootDirectory}/bin/recreateIndexGeneric.sh -m ${rootDirectory}/etc/elasticsearch_openstreetmap_mapping.json -i kaiserslautern_openstreetmap ${elasticsearchUrl}

curl --output ${rootDirectory}/data/kaiserslauternAllNodes_`date "+%Y-%m-%d"`.json  -X POST 'https://overpass-api.de/api/interpreter' -d '<osm-script output="json"><union><bbox-query s="49.3670" w="7.6220" n="49.5036" e="7.8941"/><recurse type="up"/></union><print mode="meta"/></osm-script>'

${rootDirectory}/bin/osmDataToElasticsearch.pl --inputDataType json --blockSize 1000000 --dataIsInField "elements" --elasticsearchUrl ${elasticsearchUrl} --indexName kaiserslautern_openstreetmap --elasticsearchErrorIsNotFatal ${rootDirectory}/data/kaiserslauternAllNodes_`date "+%Y-%m-%d"`.json
#----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# Command to create kosis data for citizen count and age distribution
perl -CA ${rootDirectory}/bin/fileDataToElasticsearchGeneric.pl --inputDataType csv --separatorCharacter ";" --blockSize 10000 --fieldSpec "datum|datum" --fieldSpec "stat_bez_id|stat_bez_id" --fieldSpec "m_gesamt|m_gesamt" --fieldSpec "w_gesamt|w_gesamt" --fieldSpec "ew_gesamt|ew_gesamt" --fieldSpec "davon_auslaender_gesamt|davon_auslaender_gesamt" --fieldSpec "ew_gesamt_0_bis_unter_3|ew_gesamt_0_bis_unter_3" --fieldSpec "ew_gesamt_3_bis_unter_6|ew_gesamt_3_bis_unter_6" --fieldSpec "ew_gesamt_6_bis_unter_10|ew_gesamt_6_bis_unter_10" --fieldSpec "ew_gesamt_10_bis_unter_16|ew_gesamt_10_bis_unter_16" --fieldSpec "ew_gesamt_16_bis_unter_18|ew_gesamt_16_bis_unter_18" --fieldSpec "ew_gesamt_18_bis_unter_30|ew_gesamt_18_bis_unter_30" --fieldSpec "ew_gesamt_30_bis_unter_40|ew_gesamt_30_bis_unter_40" --fieldSpec "ew_gesamt_40_bis_unter_50|ew_gesamt_40_bis_unter_50" --fieldSpec "ew_gesamt_50_bis_unter_60|ew_gesamt_50_bis_unter_60" --fieldSpec "ew_gesamt_60_bis_unter_70|ew_gesamt_60_bis_unter_70" --fieldSpec "ew_gesamt_70_bis_unter_80|ew_gesamt_70_bis_unter_80" --fieldSpec "ew_gesamt_80_und_aelter|ew_gesamt_80_und_aelter" --blockSize 100000 --elasticsearchUrl http://localhost:9200 --indexName aggregation_20230718_statistische_bezirke_ohne_asterisk ${rootDirectory}/data/aggregation_20230718_statistische_bezirke_ohne_asterisk_fuer_csv_import.csv
#----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------